<Window x:Class="WubiMaster.Views.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:c="clr-namespace:WubiMaster.Controls"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:WubiMaster.ViewModels"
        Title="MainView"
        Width="1000"
        Height="618"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        mc:Ignorable="d">

    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    <b:Interaction.Triggers>
        <b:EventTrigger EventName="Loaded">
            <b:InvokeCommandAction Command="{Binding LoadedWindowCommand}" />
        </b:EventTrigger>
    </b:Interaction.Triggers>

    <Grid>

        <Border Background="{DynamicResource BackColor}"
                BorderBrush="{DynamicResource BorderColor}"
                BorderThickness="3"
                CornerRadius="15"
                MouseDown="Border_MouseDown"
                MouseLeftButtonDown="Border_MouseLeftButtonDown" />

        <c:PageTitle Width="120"
                     Height="25"
                     Margin="198,15,0,0"
                     HorizontalAlignment="Left"
                     VerticalAlignment="Top"
                     Title="{Binding PageTitle}"/>

        <StackPanel HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Orientation="Horizontal">

            <Button x:Name="btn_theme"
                    Margin="0,15,20,0"
                    Style="{StaticResource ThemeButtonStyle}">
                <Button.ContextMenu>

                    <ContextMenu>

                        <MenuItem Command="{Binding SetThemeCommand}" CommandParameter="DarkBlue">
                            <MenuItem.Header>
                                <Border Width="15"
                                        Height="15"
                                        Background="#02B1E4"
                                        CornerRadius="2" />
                            </MenuItem.Header>
                        </MenuItem>

                        <MenuItem Command="{Binding SetThemeCommand}" CommandParameter="DarkYellow">
                            <MenuItem.Header>
                                <Border Width="15"
                                        Height="15"
                                        Background="#FFF00F"
                                        CornerRadius="2" />
                            </MenuItem.Header>
                        </MenuItem>

                        <MenuItem Command="{Binding SetThemeCommand}" CommandParameter="LightBrown">
                            <MenuItem.Header>
                                <Border Width="15"
                                        Height="15"
                                        Background="#828484"
                                        CornerRadius="2" />
                            </MenuItem.Header>
                        </MenuItem>

                        <MenuItem Command="{Binding SetThemeCommand}" CommandParameter="LightBlack">
                            <MenuItem.Header>
                                <Border Width="15"
                                        Height="15"
                                        Background="#000000"
                                        CornerRadius="2" />
                            </MenuItem.Header>
                        </MenuItem>

                        <MenuItem Command="{Binding SetThemeCommand}" CommandParameter="LightGreen">
                            <MenuItem.Header>
                                <Border Width="15"
                                        Height="15"
                                        Background="#00A666"
                                        CornerRadius="2" />
                            </MenuItem.Header>
                        </MenuItem>
                    </ContextMenu>
                </Button.ContextMenu>
            </Button>

            <Button x:Name="btn_min"
                    Margin="0,15,15,0"
                    Click="btn_min_Click"
                    Style="{StaticResource MinButtonStyle}" />

            <Button x:Name="btn_clo"
                    Margin="0,15,15,0"
                    Click="Button_Click"
                    Style="{StaticResource CloseButtonStyle}" />
        </StackPanel>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="190" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0" Margin="8,8,0,8">

                <Border Background="{DynamicResource NavPanelColor}" CornerRadius="15">

                    <StackPanel VerticalAlignment="Center">

                        <c:NavButton IconText="&#xe867;"
                                     IsSelected="True"
                                     NavCommand="{Binding ChangePageCommand}"
                                     NavName="Home"
                                     Style="{StaticResource NavButtonStyle}"
                                     Text="主页" />

                        <c:NavButton IconText="&#xe694;"
                                     NavCommand="{Binding ChangePageCommand}"
                                     NavName="Etymon"
                                     Style="{StaticResource NavButtonStyle}"
                                     Text="字根反查" />

                        <c:NavButton IconText="&#xe636;"
                                     NavCommand="{Binding ChangePageCommand}"
                                     NavName="Lexicon"
                                     Style="{StaticResource NavButtonStyle}"
                                     Text="词库管理" />

                        <c:NavButton IconText="&#xe63c;"
                                     NavCommand="{Binding ChangePageCommand}"
                                     NavName="Import"
                                     Style="{StaticResource NavButtonStyle}"
                                     Text="导入导出" />

                        <c:NavButton IconText="&#xe647;"
                                     NavCommand="{Binding ChangePageCommand}"
                                     NavName="Synchronous"
                                     Style="{StaticResource NavButtonStyle}"
                                     Text="云同步" />

                        <c:NavButton IconText="&#xe8b8;"
                                     NavCommand="{Binding ChangePageCommand}"
                                     NavName="Settings"
                                     Style="{StaticResource NavButtonStyle}"
                                     Text="设置" />
                    </StackPanel>
                </Border>

                <TextBlock Margin="0,35,0,0"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Top"
                           FontFamily="../Fonts/#iconfont"
                           FontSize="80"
                           Foreground="{DynamicResource IconColor}"
                           Text="&#xe600;" />

                <TextBlock Margin="0,5"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Bottom"
                           Foreground="#BABABA"
                           Text="五笔助手 for Rime" />
            </Grid>

            <Grid Grid.Column="1">

                <Grid.RowDefinitions>
                    <RowDefinition Height="40" />
                    <RowDefinition />
                </Grid.RowDefinitions>

                <ContentControl x:Name="Pages"
                                Grid.Row="1"
                                Margin="8"
                                Content="{Binding CurrentView}" />

            </Grid>
        </Grid>
    </Grid>
</Window>